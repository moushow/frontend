{"ast":null,"code":"export default {\n  name: \"Calendar\",\n  data() {\n    return {\n      value: new Date(),\n      arr: []\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    handleClick(date) {\n      alert(date);\n    },\n    load() {\n      this.request.get(\"/schedule/page\", {\n        params: {\n          pageNum: this.pageNum,\n          pageSize: this.pageSize,\n          date: this.date,\n          event: this.event,\n          state: this.state,\n          remark: this.remark,\n          username: this.user.username\n        }\n      }).then(res => {\n        console.log(res);\n        this.tableData = res.data.map(item => {\n          // 将日期转换为 Date 对象\n          let date = new Date(item.date);\n          // 推后一天\n          date.setDate(date.getDate() + 1);\n          // 转换为 yyyy-MM-dd 格式\n          item.date = date.toISOString().split('T')[0];\n          return item;\n        });\n        this.total = res.total;\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","value","Date","arr","created","load","methods","handleClick","date","alert","request","get","params","pageNum","pageSize","event","state","remark","username","user","then","res","console","log","tableData","map","item","setDate","getDate","toISOString","split","total"],"sources":["src/views/Calendar.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-calendar>\r\n      <template\r\n          slot=\"dateCell\"\r\n          slot-scope=\"{date, data}\">\r\n        <div\r\n            style=\"height: 100%; position: relative;\"\r\n            :class=\"['custom-date-cell', data.isSelected ? 'is-selected' : '']\"\r\n            @click=\"handleClick(data.day)\">\r\n          <div class=\"date\">{{ data.day.split('-').slice(1).join('-') }}</div>\r\n          <div class=\"content\" v-if=\"arr.find(v => v.date === data.day)\">\r\n            {{ arr.find(v => v.date === data.day).content }}\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </el-calendar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Calendar\",\r\n  data() {\r\n    return {\r\n      value: new Date(),\r\n      arr: []\r\n    };\r\n  },\r\n  created() {\r\n    this.load();\r\n  },\r\n  methods: {\r\n    handleClick(date) {\r\n      alert(date);\r\n    },\r\n    load(){\r\n      this.request.get(\"/schedule/page\",{\r\n        params:{\r\n          pageNum:this.pageNum,\r\n          pageSize: this.pageSize,\r\n          date: this.date,\r\n          event: this.event,\r\n          state: this.state,\r\n          remark: this.remark,\r\n          username: this.user.username\r\n        }\r\n      }).then(res =>{\r\n        console.log(res)\r\n        this.tableData = res.data.map(item => {\r\n          // 将日期转换为 Date 对象\r\n          let date = new Date(item.date);\r\n          // 推后一天\r\n          date.setDate(date.getDate() + 1);\r\n          // 转换为 yyyy-MM-dd 格式\r\n          item.date = date.toISOString().split('T')[0];\r\n          return item;\r\n        });\r\n        this.total = res.total\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.custom-date-cell {\r\n  border: 2px solid transparent;\r\n  transition: border-color 0.3s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  height: 120px;\r\n  padding: 10px;\r\n  position: relative;\r\n}\r\n\r\n.custom-date-cell:hover {\r\n  border-color: #409eff;\r\n}\r\n\r\n.is-selected {\r\n  border-color: #409eff;\r\n}\r\n\r\n.custom-date-cell .date {\r\n  font-weight: bold;\r\n  font-size: 0.8em;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  text-align: center;\r\n}\r\n\r\n.custom-date-cell .content {\r\n  font-size: 0.9em;\r\n  color: #666;\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":"AAqBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,KAAA,MAAAC,IAAA;MACAC,GAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,IAAA;EACA;EACAC,OAAA;IACAC,YAAAC,IAAA;MACAC,KAAA,CAAAD,IAAA;IACA;IACAH,KAAA;MACA,KAAAK,OAAA,CAAAC,GAAA;QACAC,MAAA;UACAC,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAN,IAAA,OAAAA,IAAA;UACAO,KAAA,OAAAA,KAAA;UACAC,KAAA,OAAAA,KAAA;UACAC,MAAA,OAAAA,MAAA;UACAC,QAAA,OAAAC,IAAA,CAAAD;QACA;MACA,GAAAE,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAG,SAAA,GAAAH,GAAA,CAAArB,IAAA,CAAAyB,GAAA,CAAAC,IAAA;UACA;UACA,IAAAlB,IAAA,OAAAN,IAAA,CAAAwB,IAAA,CAAAlB,IAAA;UACA;UACAA,IAAA,CAAAmB,OAAA,CAAAnB,IAAA,CAAAoB,OAAA;UACA;UACAF,IAAA,CAAAlB,IAAA,GAAAA,IAAA,CAAAqB,WAAA,GAAAC,KAAA;UACA,OAAAJ,IAAA;QACA;QACA,KAAAK,KAAA,GAAAV,GAAA,CAAAU,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}